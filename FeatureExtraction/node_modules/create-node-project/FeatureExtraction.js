const fs = require('fs');
var writeFile = require('write');
var createFile = require('create-file');
let writeStream = fs.createWriteStream('secret.txt');
var LineByLineReader = require('line-by-line'),
    lr = new LineByLineReader('French_v1.txt');
var sw = require('stopword');
    var total ="";

lr.on('error', function (err) {
	// 'err' contains error object

});

lr.on('line', function (line) {
	// 'line' contains the current line without the trailing newline character.
    total = line.toLowerCase();
    var oldString = total.split(' ');
    // sw.sv contains swedish stopwords
    var newString = sw.removeStopwords(oldString, sw.fr);
    fs.writeFile('FrenchStopWordsRemoved.txt', newString, (err) => {  
        // throws an error, you could also catch it here
        if (err) throw err;

        // success case, the file was saved
        console.log('saved!');
    });
    //console.log(total);
});

lr.on('end', function () {
	// All lines are read, file is closed now.
    // console.log(total);
     console.log(total.length);

    // console.log(newString);
    // console.log(newString.length);
});